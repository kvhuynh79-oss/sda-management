(()=>{"use strict";let t=self;t.addEventListener("push",i=>{let n;if(!i.data)return;try{n=i.data.json()}catch{n={title:"MySDAManager",body:i.data.text()}}let e=n.title||"MySDAManager",a={body:n.body||"",icon:n.icon||"/icons/icon-192x192.png",badge:n.badge||"/icons/icon-96x96.png",tag:n.tag||"default",data:{url:n.url||"/dashboard"},requireInteraction:n.requireInteraction||!1};i.waitUntil(t.registration.showNotification(e,a))}),t.addEventListener("notificationclick",i=>{i.notification.close();let n=i.notification.data?.url||"/dashboard";i.waitUntil(t.clients.matchAll({type:"window",includeUncontrolled:!0}).then(i=>{for(let t of i)if(t.url.includes(n)&&"focus"in t)return t.focus();if(t.clients.openWindow)return t.clients.openWindow(n)}))})})();